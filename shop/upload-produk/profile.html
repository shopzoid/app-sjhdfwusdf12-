<style>
  .img {
    border-radius: 50%;
    text-align: center;
  }
</style>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile | ShopZoid</title>
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!--nggak pakai-->
    <div class="container">
      <div class="row">
        <div class="col-md-12 mt-5">
          
          <div id="img" class="img"></div>
          <label id="welcome"></label>
          <div id="username"></div>
          <div id="email"></div>
          <a href="#" id="link">https://shopzoid.page.link/<span id="username-link"></span></a><br>
          <br>
          <a href="verif-link/index.html">
          <button class="btn btn-primary">Aktifkan Link</button>
          </a>
          <button class="btn btn-primary" onClick="logout()">
            Logout Account
          </button>
        </div>
      </div>
    </div>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-firestore.js"></script>
    <script>
      var myDate = new Date();
            var hrs = myDate.getHours();
        
            var greet;
        
            if (hrs < 12)
                greet = 'Selamat Pagi';
            else if (hrs >= 12 && hrs <= 14)
                greet = 'Selamat Siang';
            else if (hrs >= 13 && hrs <= 18)
                greet = 'Selamat Sore';
            else if (hrs >= 19 && hrs <= 24)
                greet = 'Selamat Malam';
        
            document.getElementById('welcome').innerHTML =
                '<b>' + greet + '</b> ';

      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyCORThhpBzHN6_4Z1U-4kI__A6xf5fRuzA",
        authDomain: "shopzoid-app.firebaseapp.com",
        databaseURL: "https://shopzoid-app-default-rtdb.firebaseio.com",
        projectId: "shopzoid-app",
        storageBucket: "shopzoid-app.appspot.com",
        messagingSenderId: "124724344551",
        appId: "1:124724344551:web:7be967100ee7a075469442",
        measurementId: "G-XFNSKZGLNM",
      };
      firebase.initializeApp(firebaseConfig);

      firebase.auth().onAuthStateChanged(function (user) {
        if (user) {
          document.getElementById("img").innerHTML = `
                <p><br /> <img src="${user.photoURL}">
            `;
          document.getElementById("username").innerHTML = `
                <p><br /> Your Name : ${user.displayName}
                   <br /> Your Email : ${user.email}
            `;
          document.getElementById("username-link").innerHTML = `${user.uid}
            `;
            const linkUsername = document.getElementById("username-link");
            const link = document.getElementById("link");
            link.href = link.textContent ;

        }   else {
          window.location = "login.html";
        }
      });

      function logout() {
        firebase
          .auth()
          .signOut()
          .then(function () {
            window.location = "login.html";
          })
          .catch(function (error) {
            console.log(error);
          });
      }
      showData();
    </script>
  </body>
</html>
